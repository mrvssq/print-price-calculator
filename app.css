/* ==========================================================================
   app.css — нейтральные стили поверх Bootstrap 5
   (не ломаем темы: используем только переменные --bs-*)
   ========================================================================== */

/* Мягкая анимация при смене темы */
:root, [data-bs-theme] {
  --app-transition-duration: .2s;
}
html.theme-transition * {
  transition: color var(--app-transition-duration) ease,
              background-color var(--app-transition-duration) ease,
              border-color var(--app-transition-duration) ease !important;
}

/* ---------- Карточки и таблицы: уважаем тему Bootstrap ---------- */
.card {
  border-color: var(--bs-border-color);
  background-color: var(--bs-body-bg);
  color: var(--bs-body-color);
  box-shadow: none; /* на вкус, оставим плоские карточки */
}
.card .card-header {
  background-color: var(--bs-tertiary-bg);
  color: var(--bs-body-color);
  border-bottom-color: var(--bs-border-color);
}
.table {
  color: var(--bs-body-color);
  border-color: var(--bs-border-color);
}
.table td, .table th {
  border-color: var(--bs-border-color);
}

/* ---------- Кнопки/формы (оставляем как есть у Bootstrap) ---------- */
/* Ничего не переопределяем: формы/label у Bootstrap уже контрастные
   под обе темы через --bs-body-color и --bs-form-control-color. */

/* ---------- Dev-панель / оверлей блокировки ---------- */
#lockOverlay {
  /* показывать/скрывать через utility-классы Bootstrap (d-none / d-flex) */
  background-color: color-mix(in srgb, var(--bs-body-bg) 60%, transparent);
  backdrop-filter: saturate(80%) blur(1.5px);
}
#lockOverlay .spinner-border {
  border-color: var(--bs-emphasis-color) var(--bs-emphasis-color) var(--bs-emphasis-color) transparent;
}

/* ---------- Мелкие утилиты ---------- */
.small-muted { color: var(--bs-secondary-color); }
.badge-soft {
  background-color: var(--bs-tertiary-bg);
  color: var(--bs-body-color);
  border: 1px solid var(--bs-border-color);
}

/* ==========================================================================
   Печать: выводим только блок ИТОГО (totalBlock)
   - белый фон, чёрный текст
   - скрываем конфигуратор (configBlock) и всё лишнее
   ========================================================================== */
/* Печатаем только #totalBlock, сверху страницы, без пустот */
@media print {
  @page { margin: 12mm; } /* при желании подстрой поля */

  html, body {
    background: #fff !important;
    color: #000 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* В print-режиме (включается JS) скрываем всё, кроме totalBlock */
  body.print-mode > *:not(#totalBlock) {
    display: none !important;
  }

  /* Сам блок печатаем как есть, без фиксов — он один на странице */
  #totalBlock {
    display: block !important;
    background: #fff !important;
    color: #000 !important;
    box-shadow: none !important;
    border: 0 !important;
    margin: 0 !important;
    max-width: 100% !important;
  }

  /* Чёткие границы таблицы (если нужно) */
  #totalBlock .table,
  #totalBlock .table * {
    color: #000 !important;
    background: transparent !important;
    border-color: #000 !important;
  }
}

/* ==========================================================================
   Адаптивные мелочи
   ========================================================================== */
@media (max-width: 575.98px) {
  .table { font-size: .95rem; }
}
